parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"kTsq":[function(require,module,exports) {
Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null});
},{}],"lTk1":[function(require,module,exports) {
"use strict";function e(e){return null==e?"":(e+"").trim()}function t(t,n){var r=t,a=e(r.getAttribute&&r.getAttribute("class"));return" ".concat(a," ").indexOf(" ".concat(n," "))>-1}function n(t,n){for(var r=e(t.getAttribute&&t.getAttribute("class")),a=" "+r+" ",l="",o=0,s=n.split(" "),i=s.length;o<i;o+=1)""!==s[o]&&-1===a.indexOf(" "+s[o]+" ")&&(l+=" "+s[o]);r!==(l=e(r+l))&&t.setAttribute("class",l)}function r(t,n){for(var r=e(t.getAttribute&&t.getAttribute("class")),a=" "+r+" ",l=0,o=n.split(" "),s=o.length;l<s;l+=1)a=a.replace(" "+o[l]+" "," ");r!==(a=e(a))&&t.setAttribute("class",a)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.trimString=e,exports.hasClass=t,exports.addClass=n,exports.removeClass=r,exports.cleanString=i,exports.isPrintableKey=c,exports.mergeObjects=u,exports.dispatchEvent=v,exports.setElementState=g,exports.processSourceArray=p,exports.htmlToElement=f;var a=/&/g,l=/\s\s+/g,o=/[.*+?^${}()|[\]\\]/g,s=/[\u2018\u2019',:\u2013-]/g;function i(t){return e((t=(t=(t=(t=t.replace(s,"")).replace(a,"and")).replace(o,"\\$&")).replace(l," ")).toLowerCase())}function c(e){return e>=48&&e<=57||e>=65&&e<=90||e>=96&&e<=111||e>=186&&e<=222||32===e||8===e||46===e}function u(){for(var e={},t=0,n=arguments.length;t<n;t+=1){var r=t<0||arguments.length<=t?void 0:arguments[t];for(var a in r)r.hasOwnProperty(a)&&void 0!==r[a]&&(e[a]=r[a])}return e}function v(e,t){if("createEvent"in document){var n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!0),e.dispatchEvent(n)}else e.fireEvent("on"+t)}function g(e,t,n){t=!!t,e&&("INPUT"===e.nodeName&&"boolean"==typeof e.checked&&e.checked!==t&&(e.checked=t,v(e,"change")),"OPTION"===e.nodeName&&e.selected!==t&&(e.selected=t,n.elementChangeEventTimer&&clearTimeout(n.elementChangeEventTimer),n.elementChangeEventTimer=setTimeout(function(){v(e.closest("select"),"change")},1)))}function p(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=[],a=t.value,l=t.label,o=0,s=e.length;o<s;o+=1){var c={},u=e[o];if("string"==typeof u)c.value=c.label=u;else{var v=(c=u)[a]||c.value||c.label,g=c[l]||c.label||c.value;c.value=(v||"").toString(),c.label=(g||"").toString()}!1!==n&&(c.cleanedLabel=i(c.label)),r.push(c)}return r}var d=document.createElement("div");function f(t){return d.innerHTML=e(t),d.firstChild}
},{}],"c8cM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,require("./closest-polyfill");var e=require("./helpers");function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function s(e,t,s){return t&&i(e.prototype,t),s&&i(e,s),e}var n=0,l={source:"",sourceMapping:{},delay:100,minLength:1,maxResults:9999,showAllControl:!0,confirmOnBlur:!0,autoGrowInput:!1,multiple:!1,maxItems:9999,multipleSeparator:",",deleteOnBackspace:!1,placeholder:"Type to search...",noResultsText:"No results",listClassName:"",inputClassName:"",wrapperClassName:"form-control",cssNameSpace:"aria-autocomplete",asyncQueryParam:"q",asyncMaxResultsParam:"limit",srDeleteText:"delete",srDeletedText:"deleted",srShowAllText:"Show all",srSelectedText:"selected",srExplanatoryText:"Search suggestions",srAssistiveText:"When autocomplete results are available use up and down arrows to review and enter to select. Touch device users, explore by touch or with swipe gestures.",srResultsText:function(e){return"".concat(e," ").concat(1===e?"result":"results"," available.")},onAsyncSuccess:void 0,onResponse:void 0,onSearch:void 0,onSelect:void 0,onReady:void 0,onClose:void 0,onOpen:void 0},a=function(){function i(s,a){if(t(this,i),s){if(s.ariaAutocomplete)return s.ariaAutocomplete;n+=1,this.element=s,this.elementIsInput="INPUT"===s.nodeName,this.elementIsSelect="SELECT"===s.nodeName,this.ids={},this.ids.ELEMENT=s.id,this.ids.PREFIX="".concat(s.id||"","aria-autocomplete-").concat(n),this.ids.LIST="".concat(this.ids.PREFIX,"-list"),this.ids.INPUT="".concat(this.ids.PREFIX,"-input"),this.ids.BUTTON="".concat(this.ids.PREFIX,"-button"),this.ids.OPTION="".concat(this.ids.PREFIX,"-option"),this.ids.WRAPPER="".concat(this.ids.PREFIX,"-wrapper"),this.ids.OPTION_SELECTED="".concat(this.ids.OPTION,"-selected"),this.ids.SR_ASSISTANCE="".concat(this.ids.PREFIX,"-sr-assistance"),this.ids.SR_ANNOUNCEMENTS="".concat(this.ids.PREFIX,"-sr-announcements"),this.ids.ELEMENT||(this.ids.ELEMENT="".concat(this.ids.PREFIX,"-element"),this.element.setAttribute("id",this.ids.ELEMENT)),this.list,this.input,this.wrapper,this.showAll,this.srAnnouncements,this.xhr,this.term,this.async,this.source,this.menuOpen,this.multiple,this.selected,this.disabled,this.filtering,this.cssNameSpace,this.forceShowAll,this.filteredSource,this.currentListHtml,this.currentSelectedIndex,this.filterTimer,this.announcementTimer,this.componentBlurTimer,this.elementChangeEventTimer,this.options=(0,e.mergeObjects)(l,a),this.init()}}return s(i,[{key:"triggerOptionCallback",value:function(e,t){if("function"==typeof this.options[e])return this.options[e].apply(this.wrapper,t)}},{key:"show",value:function(t){if(void 0!==t){var i="".concat(this.cssNameSpace,"--hide hide hidden");return(0,e.removeClass)(t,i),t.removeAttribute("hidden")}if(this.input.setAttribute("aria-expanded","true"),this.showAll){var s=(!!this.forceShowAll).toString();this.showAll.setAttribute("aria-expanded",s)}this.menuOpen||(this.show(this.list),this.menuOpen=!0,this.triggerOptionCallback("onOpen",[this.list]))}},{key:"hide",value:function(t){if(void 0!==t)return(0,e.addClass)(t,"".concat(this.cssNameSpace,"--hide hide hidden")),t.setAttribute("hidden","hidden");this.currentSelectedIndex=-1,this.input.setAttribute("aria-expanded","false"),this.showAll&&this.showAll.setAttribute("aria-expanded","false"),this.menuOpen&&(this.hide(this.list),this.menuOpen=!1,this.triggerOptionCallback("onClose",[this.list]))}},{key:"enable",value:function(){if(this.disabled){this.disabled=!1,this.input.disabled=!1;var t=this.cssNameSpace;(0,e.removeClass)(this.input,"".concat(t,"__input--disabled disabled")),(0,e.removeClass)(this.wrapper,"".concat(t,"__wrapper--disabled disabled")),this.showAll&&(this.showAll.setAttribute("tabindex","0"),(0,e.removeClass)(this.showAll,"".concat(t,"__show-all--disabled disabled")))}}},{key:"disable",value:function(){if(!this.disabled){this.disabled=!0,this.input.disabled=!0;var t=this.cssNameSpace;(0,e.addClass)(this.input,"".concat(t,"__input--disabled disabled")),(0,e.addClass)(this.wrapper,"".concat(t,"__wrapper--disabled disabled")),this.showAll&&(this.showAll.setAttribute("tabindex","-1"),(0,e.addClass)(this.showAll,"".concat(t,"__show-all--disabled disabled")))}}},{key:"isQueryContainedIn",value:function(t,i,s){if(t=(0,e.trimString)(t||this.input.value).toLowerCase()){s=s||"label";for(var n=0,l=i.length;n<l;n+=1)if((0,e.trimString)(i[n][s]).toLowerCase()===t)return n}return-1}},{key:"announce",value:function(e,t){var i=this;if(e&&this.srAnnouncements){if(0===t)return this.srAnnouncements.textContent=e;t="number"==typeof t?t:400,this.announcementTimer&&clearTimeout(this.announcementTimer),this.announcementTimer=setTimeout(function(){i.srAnnouncements.textContent=e},t)}}},{key:"isSelectedElem",value:function(t){return this.multiple&&t.ariaAutocompleteSelectedOption&&(0,e.hasClass)(t,"".concat(this.cssNameSpace,"__selected"))}},{key:"getSelectedElems",value:function(){for(var e=this.wrapper.childNodes,t=[],i=0,s=e.length;i<s;i+=1)this.isSelectedElem(e[i])&&t.push(e[i]);return t}},{key:"removeEntryFromSelected",value:function(t){var i=this.selected.indexOf(t);if(-1===i)for(var s=0,n=this.selected.length;s<n;s+=1)if(this.selected[s].value===t.value){i=s;break}i>-1&&((0,e.setElementState)(this.selected[i].element,!1,this),this.selected.splice(i,1),this.buildMultiSelected())}},{key:"buildMultiSelected",value:function(){if(this.multiple){var t=this.getSelectedElems();if(this.selected.length||t.length){for(var i=[],s=t.length;s--;){for(var n=t[s].ariaAutocompleteSelectedOption,l=this.selected.length,a=!1;l--;){var r=this.selected[l];if(r===n||r.value===n.value){a=!0;break}}a?i.push(t[s]):this.wrapper.removeChild(t[s])}for(var o=this.options.srDeleteText,c=document.createDocumentFragment(),h="".concat(this.cssNameSpace,"__selected"),u=0,d=this.selected.length;u<d;u+=1){for(var p=this.selected[u],m=i.length,f=!1;m--;){var v=i[m].ariaAutocompleteSelectedOption;if(v===p||v.value===p.value){f=!0;break}}if(!f){var S=p.label,b=(0,e.htmlToElement)('<span role="button" class="'.concat(h,'" ')+'tabindex="0" aria-label="'.concat(o," ").concat(S,'">')+"".concat(S,"</span>"));b.ariaAutocompleteSelectedOption=p,c.appendChild(b)}}this.wrapper.appendChild(c);for(var y=[this.ids.LIST],g=0,A=(i=this.getSelectedElems()).length;g<A;g+=1){var w="".concat(this.ids.OPTION_SELECTED,"-").concat(g);i[g].setAttribute("id",w),y.push(w)}this.input.setAttribute("aria-owns",y.join(" "))}}}},{key:"setInputDescription",value:function(){var t=this.input.getAttribute("aria-describedby"),i=(0,e.trimString)(t||""),s=i.replace(this.ids.SR_ASSISTANCE,"");0===this.input.value.length&&(s=s+" "+this.ids.SR_ASSISTANCE),(s=(0,e.trimString)(s))?s!==i&&this.input.setAttribute("aria-describedby",s):t&&this.input.removeAttribute("aria-describedby")}},{key:"resetOptionAttributes",value:function(){for(var t=this.cssNameSpace,i=this.list.childNodes,s=i.length;s--;)(0,e.removeClass)(i[s],"".concat(t,"__option--focused focused focus")),i[s].setAttribute("aria-selected","false")}},{key:"setOptionFocus",value:function(t,i){this.resetOptionAttributes();var s=this.list.childNodes;if(i<0||!s||!s.length)return this.currentSelectedIndex=-1,void(t&&t.target!==this.input&&this.input.focus());if(i>=s.length)return this.currentSelectedIndex=s.length-1,void this.setOptionFocus(t,this.currentSelectedIndex);var n=s[i];if(n&&"string"==typeof n.getAttribute("tabindex")){this.currentSelectedIndex=i;var l="".concat(this.cssNameSpace,"__option--focused focused focus");return(0,e.addClass)(n,l),n.setAttribute("aria-selected","true"),void n.focus()}this.currentSelectedIndex=-1}},{key:"setSourceElementValues",value:function(){for(var t=[],i=0,s=this.selected.length;i<s;i+=1){var n=this.selected[i];t.push(n.value),(0,e.setElementState)(n.element,!0,this)}if(this.elementIsInput){var l=t.join(this.options.multipleSeparator);l!==this.element.value&&(this.element.value=l,(0,e.dispatchEvent)(this.element,"change"))}if(!this.selected.length&&this.elementIsSelect&&(this.element.value=""),this.multiple&&this.selected.length>=this.options.maxItems)return this.disable();this.enable()}},{key:"handleOptionSelect",value:function(t,i,s){if(!("number"!=typeof i||i<0||this.multiple&&this.selected.length>=this.options.maxItems)&&this.filteredSource.length&&this.filteredSource[i]){for(var n=(0,e.mergeObjects)(this.filteredSource[i]),l=this.selected.length,a=!1;l--;)if(this.selected[l].value===n.value){a=!0;break}this.input.value=this.term=this.multiple?"":n.label,a||this.multiple||(this.selected=[]),a||(this.selected.push(n),this.setSourceElementValues(),this.buildMultiSelected()),this.triggerOptionCallback("onSelect",[n]),this.announce("".concat(n.label," ").concat(this.options.srSelectedText),0),this.disabled||!1===s||this.input.focus(),this.hide()}}},{key:"removeSelectedFromResults",value:function(e){if(!this.multiple||!this.selected.length)return e;var t=[];e:for(var i=0,s=e.length;i<s;i+=1){for(var n=this.selected,l=e[i],a=0,r=n.length;a<r;a+=1){if(l.label===n[a].label&&l.value===n[a].value)continue e}t.push(l)}return t}},{key:"setListOptions",value:function(t){var i=[],s=this.ids.OPTION,n=this.cssNameSpace,l=this.options.sourceMapping,a=this.removeSelectedFromResults(t),r=this.triggerOptionCallback("onResponse",a);this.filteredSource=r?(0,e.processSourceArray)(r,l):a;for(var o,c=this.filteredSource.length,h=this.options.maxResults,u=0;u<c&&u<h;u+=1)i.push('<li tabindex="-1" aria-selected="false" role="option" class="'.concat(n,'__option" ')+'id="'.concat(s,"--").concat(u,'" aria-posinset="').concat(u+1,'" ')+'aria-setsize="'.concat(c,'">').concat(this.filteredSource[u].label,"</li>"));i.length?((0,e.addClass)(this.list,"".concat(n,"__list--has-results")),(0,e.removeClass)(this.list,"".concat(n,"__list--no-results"))):((0,e.removeClass)(this.list,"".concat(n,"__list--has-results")),(0,e.addClass)(this.list,"".concat(n,"__list--no-results")));var d=this.options.noResultsText;if(!i.length&&"string"==typeof d&&d.length){o=d;var p="".concat(n,"__option");i.push('<li class="'.concat(p," ").concat(p,'--no-results">').concat(d,"</li>"))}this.cancelFilterPrep(),o||(o=this.triggerOptionCallback("srResultsText",[c])),this.announce(o);var m=i.join("");this.currentListHtml!==m?(this.currentListHtml=m,this.list.innerHTML=m):this.resetOptionAttributes(),i.length?(this.show(),this.forceShowAll=!1):this.hide()}},{key:"handleAsync",value:function(t){var i=this,s=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.options,l=n.mapping,a=new XMLHttpRequest,r=encodeURIComponent,o=this.forceShowAll,c=this.selected.length+n.maxResults,h="".concat(r(n.asyncMaxResultsParam),"=").concat(c),u="".concat(r(n.asyncQueryParam),"=").concat(r(t)),d="".concat(u,"&").concat(h),p=this.source+(/\?/.test(this.source)?"&":"?")+d;this.xhr&&this.xhr.abort(),a.open("GET",p),a.onload=function(){i.forceShowAll=o;var t=i.triggerOptionCallback("onAsyncSuccess",[a])||a.responseText,s=(0,e.processSourceArray)(t,l,!1);i.setListOptions(s)},a.send(),!1!==s&&(this.xhr=a)}},{key:"filter",value:function(t){if("string"==typeof t){var i=this.forceShowAll,s=this.triggerOptionCallback("onSearch",[t]),n=[];if(i||"string"!=typeof s||(t=s),this.term=t,this.async)return this.handleAsync(t),void(this.forceShowAll=!1);if("function"==typeof this.source)return n=this.source.call(this.wrapper,this.term),n=(0,e.processSourceArray)(n,this.options.sourceMapping),void this.setListOptions(n);if(t||(i=!0),this.source&&this.source.length){i||(t=(0,e.cleanString)(t));for(var l=0,a=this.source.length;l<a;l+=1){var r=this.source[l];(i||-1!==r.cleanedLabel.search(t))&&n.push({element:r.element,staticSourceIndex:l,label:r.label,value:r.value})}}this.setListOptions(n)}else this.cancelFilterPrep()}},{key:"cancelFilterPrep",value:function(){this.filterTimer&&clearTimeout(this.filterTimer);var t=this.cssNameSpace;(0,e.removeClass)(this.wrapper,"".concat(t,"__wrapper--loading loading")),(0,e.removeClass)(this.input,"".concat(t,"__input--loading loading")),this.filtering=!1}},{key:"filterPrep",value:function(t){var i=this,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],l=this.forceShowAll,a=l||n?0:this.options.delay;this.filtering=!0,this.cancelFilterPrep(),this.filterTimer=setTimeout(function(){var n=i.input.value;if((l||""===n||s&&!i.multiple&&i.selected.length&&(0,e.trimString)(i.selected[0].label)===(0,e.trimString)(n))&&(n=""),i.setInputDescription(),!l&&n.length<i.options.minLength)i.hide();else{var a;try{a=t&&"keydown"===t.type&&(t.altKey||t.ctrlKey||t.metaKey)}catch(t){}var r=""!==n&&n===i.term;if(!r||r&&!i.menuOpen&&!a){var o=i.cssNameSpace;(0,e.addClass)(i.wrapper,"".concat(o,"__wrapper--loading loading")),(0,e.addClass)(i.input,"".concat(o,"__input--loading loading")),i.currentSelectedIndex=-1,i.filter(n)}}},a)}},{key:"filterPrepShowAll",value:function(e){e.preventDefault(),this.forceShowAll=!0,this.filterPrep(e,!1,!0)}},{key:"handleComponentBlur",value:function(t){var i=this,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=s?0:100;this.componentBlurTimer&&clearTimeout(this.componentBlurTimer),this.componentBlurTimer=setTimeout(function(){var t=document.activeElement;if(s||i.showAll&&i.showAll===t||t.ariaAutocompleteSelectedOption||!i.wrapper.contains(t)){var n=i.isQueryContainedIn.bind(i);if(i.xhr&&i.xhr.abort(),!s&&i.options.confirmOnBlur&&i.menuOpen){var l=i.currentSelectedIndex;"number"==typeof l&&-1!==l||(l=n("",i.filteredSource)),i.handleOptionSelect({},l,!1)}var a=i.cssNameSpace;if((0,e.removeClass)(i.wrapper,"".concat(a,"__wrapper--focused focused focus")),(0,e.removeClass)(i.input,"".concat(a,"__input--focused focused focus")),i.cancelFilterPrep(),i.hide(),!i.multiple&&-1===n("",i.selected))(i.elementIsInput||i.elementIsSelect)&&""!==i.element.value&&(i.element.value="",(0,e.dispatchEvent)(i.element,"change")),i.input.value="",i.selected=[]}},n)}},{key:"handleEnterKey",value:function(e){if(this.isSelectedElem(e.target)){var t=e.target.ariaAutocompleteSelectedOption;return this.removeEntryFromSelected(t)}this.disabled||(this.showAll&&e.target===this.showAll?this.filterPrepShowAll(e):(this.menuOpen&&(e.preventDefault(),this.currentSelectedIndex>-1&&this.handleOptionSelect(e,this.currentSelectedIndex)),e.target===this.input&&this.filterPrep(e,!1,!0)))}},{key:"handleDownArrowKey",value:function(e){if(e.preventDefault(),this.menuOpen||(this.forceShowAll=this.options.minLength<1,(this.forceShowAll||this.input.value.length>=this.options.minLength)&&this.filterPrep(e)),this.menuOpen&&!this.filtering){var t=this.currentSelectedIndex;"number"!=typeof t||t<0?this.setOptionFocus(e,0):this.setOptionFocus(e,t+1)}}},{key:"handleUpArrowKey",value:function(e){e.preventDefault(),!this.disabled&&this.menuOpen&&"number"==typeof this.currentSelectedIndex&&this.setOptionFocus(e,this.currentSelectedIndex-1)}},{key:"handleKeyDownDefault",value:function(t){var i=t.target===this.input;if(32===t.keyCode&&!i)return this.handleEnterKey(t);if(!this.disabled){var s=this.selected&&this.selected.length;if(this.options.deleteOnBackspace&&""===this.input.value&&8===t.keyCode&&s&&i&&this.multiple){var n=this.selected[s-1].label,l="".concat(n," ").concat(this.options.srDeletedText);return this.announce(l,0),this.selected.pop(),void this.buildMultiSelected()}var a=!i&&(0,e.isPrintableKey)(t.keyCode);a&&this.input.focus(),(a||i)&&this.filterPrep(t)}}},{key:"prepKeyDown",value:function(e){switch(e.keyCode){case 13:this.handleEnterKey(e);break;case 27:this.handleComponentBlur(e,!0);break;case 38:this.handleUpArrowKey(e);break;case 40:this.handleDownArrowKey(e);break;default:this.handleKeyDownDefault(e)}}},{key:"bindEvents",value:function(){var t=this;this.wrapper.addEventListener("focusout",function(e){t.handleComponentBlur(e,!1)}),this.wrapper.addEventListener("focusin",function(i){var s="".concat(t.cssNameSpace,"__wrapper--focused focused focus");(0,e.addClass)(t.wrapper,s),t.list.contains(i.target)||(t.currentSelectedIndex=-1)}),this.wrapper.addEventListener("keydown",function(e){t.prepKeyDown(e)}),this.wrapper.addEventListener("click",function(e){if(e.target!==t.wrapper){if(t.isSelectedElem(e.target)){var i=e.target.ariaAutocompleteSelectedOption;t.removeEntryFromSelected(i)}}else t.input.focus()}),this.input.addEventListener("blur",function(){var i="".concat(t.cssNameSpace,"__input--focused focused focus");(0,e.removeClass)(t.input,i)}),this.input.addEventListener("input",function(e){t.filterPrep(e)}),this.input.addEventListener("click",function(e){!t.menuOpen&&t.input.value.length>=t.options.minLength&&t.filterPrep(e,!0)}),this.input.addEventListener("focusin",function(){var i="".concat(t.cssNameSpace,"__input--focused focused focus");(0,e.addClass)(t.input,i),t.disabled||t.menuOpen||t.filterPrep(event,!0)}),this.showAll&&this.showAll.addEventListener("click",function(e){t.filterPrepShowAll(e)}),this.list.addEventListener("mouseenter",function(e){t.resetOptionAttributes()}),this.list.addEventListener("click",function(e){if(e.target!==t.list){var i=t.list.childNodes;if(i.length){var s=[].indexOf.call(i,e.target);t.handleOptionSelect(e,s)}}})}},{key:"prepListSourceCheckboxes",value:function(){this.multiple=!0,this.source=[];for(var t=this.element.querySelectorAll('input[type="checkbox"]'),i=0,s=t.length;i<s;i+=1){var n=t[i];if(n.value){var l={element:n,value:n.value},a=n.closest("label");!a&&n.id&&(a=document.querySelector('[for="'+n.id+'"]')),a&&(l.label=a.textContent),l.label||(l.label=l.value),l.cleanedLabel=(0,e.cleanString)(l.label),this.source.push(l),n.checked&&this.selected.push(l)}}}},{key:"prepListSourceDdl",value:function(){this.multiple=this.element.multiple,this.source=[];for(var t=this.element.querySelectorAll("option"),i=0,s=t.length;i<s;i+=1){var n=t[i];if(n.value){var l={element:n,value:n.value,label:n.textContent};l.cleanedLabel=(0,e.cleanString)(l.label),this.source.push(l),n.selected&&this.selected.push(l)}}}},{key:"prepListSourceArray",value:function(){var t=this.options.sourceMapping;if(this.source=(0,e.processSourceArray)(this.source,t),this.elementIsInput&&this.element.value)for(var i=this.element.value,s=this.options.multiple,n=this.options.multipleSeparator,l=s?i.split(n):[i],a=0,r=l.length;a<r;a+=1){var o=l[a],c=this.isQueryContainedIn;if(!(c(o,this.selected,"value")>-1)){var h=c(o,this.source,"value");h>-1&&this.selected.push(this.source[h])}}}},{key:"prepListSource",value:function(){if(this.async=!1,"function"!=typeof this.source)return"string"==typeof this.source&&this.source.length?this.async=!0:Array.isArray(this.source)&&this.source.length?this.prepListSourceArray():this.elementIsSelect?this.prepListSourceDdl():void(this.element.querySelector('input[type="checkbox"]')&&this.prepListSourceCheckboxes())}},{key:"setInputStartingStates",value:function(){var e=document.querySelector('[for="'+this.ids.ELEMENT+'"]');e&&(e.ariaAutocompleteOriginalFor=this.ids.ELEMENT,e.setAttribute("for",this.ids.INPUT));var t=this.element.getAttribute("aria-describedby");t&&this.input.setAttribute("aria-describedby",t);var i=this.element.getAttribute("aria-labelledby");i&&this.input.setAttribute("aria-labelledby",i);var s=!1;this.selected.length&&(this.multiple?(this.buildMultiSelected(),s=this.selected.length>=this.options.maxItems):(this.input.value=this.selected[0].label||"",this.term=this.input.value)),this.setInputDescription(),(s||this.element.disabled)&&this.disable()}},{key:"setHtml",value:function(){var e=this.options,t=e.showAllControl,i=this.cssNameSpace,s=e.srExplanatoryText,n=e.listClassName?" ".concat(e.listClassName):"",l=e.inputClassName?" ".concat(e.inputClassName):"",a=e.wrapperClassName?" ".concat(e.wrapperClassName):"",r=s?' aria-label="'.concat(s,'"'):"";t&&(a+=" ".concat(i,"__wrapper--show-all"));var o=['<div id="'.concat(this.ids.WRAPPER,'" class="').concat(i,"__wrapper").concat(a,'">')];o.push('<input type="text" autocomplete="off" aria-expanded="false" aria-autocomplete="list" '+'role="combobox" id="'.concat(this.ids.INPUT,'" placeholder="').concat(e.placeholder,'" ')+'aria-owns="'.concat(this.ids.LIST,'" aria-placeholder="').concat(e.placeholder,'" ')+'class="'.concat(i,"__input").concat(l,'" />')),t&&o.push('<span role="button" aria-label="'.concat(e.srShowAllText,'" class="').concat(i,'__show-all" ')+'tabindex="0" id="'.concat(this.ids.BUTTON,'" aria-expanded="false"></span>')),o.push('<ul id="'.concat(this.ids.LIST,'" class="').concat(i,"__list").concat(n,'" role="listbox" ')+'hidden="hidden"'.concat(r,"></ul>")),o.push('<span class="sr-only '.concat(i,"__sr-only ").concat(i,'__sr-assistance" ')+'id="'.concat(this.ids.SR_ASSISTANCE,'">').concat(e.srAssistiveText,"</span>")),o.push('<span class="sr-only '.concat(i,"__sr-only ").concat(i,'__sr-announcements" ')+'id="'.concat(this.ids.SR_ANNOUNCEMENTS,'" aria-live="polite" aria-atomic="true"></span>')),o.push("</div>"),this.element.insertAdjacentHTML("afterend",o.join(""))}},{key:"generateApi",value:function(){var e=this;this.api={options:this.options,open:function(){return e.show.call(e)},close:function(){return e.hide.call(e)},refresh:function(){return e.refresh.call(e)},destroy:function(){return e.destroy.call(e)},filter:function(t){return e.filter.call(e,t)}},this.element.ariaAutocomplete=this.api}},{key:"refresh",value:function(){var t=(0,e.mergeObjects)(this.options);this.destroy(),this.options=t,this.init()}},{key:"destroy",value:function(){var e=document.querySelector('[for="'+this.ids.INPUT+'"]');for(var t in e&&e.ariaAutocompleteOriginalFor&&(e.setAttribute("for",e.ariaAutocompleteOriginalFor),delete e.ariaAutocompleteOriginalFor),this.element.parentNode.removeChild(this.wrapper),this)this.hasOwnProperty(t)&&(this[t]=null);delete this.element.ariaAutocomplete,this.show(this.element)}},{key:"init",value:function(){this.selected=[],this.source=this.options.source,this.multiple=this.options.multiple,this.cssNameSpace=this.options.cssNameSpace,this.setHtml(),this.list=document.getElementById(this.ids.LIST),this.input=document.getElementById(this.ids.INPUT),this.wrapper=document.getElementById(this.ids.WRAPPER),this.showAll=document.getElementById(this.ids.BUTTON),this.srAnnouncements=document.getElementById(this.ids.SR_ANNOUNCEMENTS),this.hide(this.list),this.hide(this.element),this.prepListSource(),this.setInputStartingStates(),this.bindEvents(),this.generateApi(),this.triggerOptionCallback("onReady")}}]),i}();window.AriaAutocomplete=function(e,t){return new a(e,t).api};var r=function(e,t){return new a(e,t).api};exports.default=r;
},{"./closest-polyfill":"kTsq","./helpers":"lTk1"}]},{},["c8cM"], null)
//# sourceMappingURL=/aria-autocomplete.min.js.map